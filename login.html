<!-- 2022.10.29，完成登录制作！ -->
<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>登录</title>

    <link rel="stylesheet" href="./css/1.css">

    <!-- <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css"> -->
    <!-- <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script> -->

    <style>
        body {
            background: url(./image/1.jpg);
            /* background-repeat: no-repeat; */
            background-position: center;
        }
    </style>
</head>

<body>
    <div class="outer_box">
        <div class="back_one"></div>
        <div class="back_two"></div>
        <div class="login_box">
            <h3 class="title">登录</h3>
            <p>
                <!-- <i class="iconfont">
                    
                </i> -->
                <!-- <form action="index2.html"> -->
                <!-- <img src="./image/用户.png" alt=""> -->
                <!-- <input type="text" id="username" placeholder="用户名" name="uname"> -->
                <!-- <input type="submit" value="登录"> -->
                <!-- </form> -->
            </p>
            <p>
                <!-- <i class="iconfont">
                    <img src="./image/密码.png" alt="">
                </i> -->
                <form action="index2.html">
                    <img src="./image/用户.png" alt="">
                    <input type="text" id="username" placeholder="用户名" name="uname"><br>
                    <img src="./image/密码.png" alt="">
                    <input type="password" id="password" placeholder="密码">
                    <p class="p_usName">
                        <input type="checkbox" name="" id="checkbox">
                        <span>记住用户名</span>
                    </p>
                    <input type="submit" value="登录" id="submit" onclick="login()">
                </form>

            </p>
            <!-- <p class="logIn_btn">
                <span class="left_line">

                </span>
                <span class="iconfont">
                    <button class="button1" onclick="login()">登录</button></span>
                <span class="right_line">

                </span>
            </p> -->
            <!-- <p class="login"><span>注册</span></p> -->
        </div>
    </div>
</body>
<script>
    var submit = document.querySelector("#submit");
    var username = document.querySelector("#username");
    var password = document.querySelector("#password");
    var checkbox = document.querySelector("#checkbox");

    if (localStorage.getItem("username")) {
        username.value = localStorage.getItem("username");
        checkbox.checked = true;
    }
    checkbox.addEventListener('change', function() {
        if (this.checked) {
            localStorage.setItem('username', username.value);

        } else {
            localStorage.removeItem('username');
        }
    });

    function login() {
        if (username.value == '') {
            alert('用户名为空错误');
            username.value = "#";
        }
        // 默认记住用户名
        localStorage.setItem('username', username.value);
        if (username.value == localStorage.getItem('username') && password.value == 123456) {
            // alert("用户名和密码输入正确，进入下一步验证");
            while (true) {
                window.location.href = "./index2.html";
                // submit.disabled = false;
                // var iKun = prompt("请输入\n我叫ikun你记住\n不然无法登录!");
                // if (iKun == "我叫ikun你记住") {
                //     // 本页面打开
                //     window.location.href = "./index2.html";
                //     // 新的页面打开
                //     // window.open("./main.html");
                break;
                // } else {
                //     alert('不是真爱粉进入不了，重新输入！');
                // }
            }

        } else {
            alert("用户名或密码错误!");
            submit.disabled = true;
            if (submit.disabled == true) {
                alert('请刷新页面重新提交');
                // submit.disabled = false;
            }

        }
    }
</script>

</html>